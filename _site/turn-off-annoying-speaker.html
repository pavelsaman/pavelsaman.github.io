<!DOCTYPE html>
<html lang="en"><link rel="stylesheet" href="/assets/main.css">
<link rel="shortcut icon" type="image/png" href="favicon.png"><body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">pavelsaman</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/concepts/2019-09-21-setting-up-codeception.html">Setting Up Codeception</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Turn Off Annoying Speaker</h1>
  </header>

  <p class="post-meta">
    <span class="date">18/09/2019</span>
    <span class="delim">•</span>
    <span class="author">Pavel Saman</span>
  </p>

  <div class="post-content">
    <p>Have you ever experienced this annoying beep sound your PC speaker makes on error, in console and possibly on other places? This is the single most annoying thing I wanted to get rid off system-wide and for good. If you want to do the same, this short blog post might come in handy.</p>

<p>There are a few different places where this could be disabled, but I wanted to do it system-wide, so I don’t need to worry about all the places where to turn it off.</p>

<p>It turns out that the speaker functions because of <code class="highlighter-rouge">pcspkr</code> kernel module. Knowing this, I only created a new file in <code class="highlighter-rouge">/etc/modprobe.d/</code> with the following content:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>blacklist-mine.conf 
blacklist pcspkr
</code></pre></div></div>

<p>This will not load the kernel module on next boot, thus silencing the PC speaker :)</p>

<p>Of course, the same method could be used if you don’t want to load some other kernel modules. One way to find out what piece of hardware uses what kernel module is command <code class="highlighter-rouge">lspci -v</code>, the output looks like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>lspci <span class="nt">-v</span>
00:00.0 Host bridge: Intel Corporation Broadwell-U Host Bridge <span class="nt">-OPI</span> <span class="o">(</span>rev 09<span class="o">)</span>
	Subsystem: Dell Broadwell-U Host Bridge <span class="nt">-OPI</span>
	Flags: bus master, fast devsel, latency 0
	Capabilities: &lt;access denied&gt;
	Kernel driver <span class="k">in </span>use: bdw_uncore
......
......
</code></pre></div></div>

<p>The last line with no dots shows what kernel module is used.</p>

  </div>

</article>
      </div>
    </main></footer>

<footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">    

    <h2 class="footer-heading"><a href="/">pavelsaman</a></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Pavel Saman</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.linkedin.com/in/pavelsaman"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">LinkedIn</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Personal blog about technology, mostly Linux and testing.</p>
      </div>
    </div>

  </div>

</footer></body>

</html>
